#include "main.h"
#include <stdarg.h>
#include <unistd.h>
#include <stdio.h>

/**
 * _printf - produces output according to a format
 * @format: format.
 * Return: Printed chars.
 */

int _printf(const char *format, ...)
{
    va_list aaa;
    va_start(aaa, format);
	int b;
    int print_value = 0;
	int showDigits = 0;

    while (*format != '\0')
	{
        if (*format == '%')
		{
            format++;
            if (*format == 'c')
			{
                char ch = (char)va_arg(aaa, int);
                putchar(ch);
                print_value++;
            }
			else if (*format == 's')
			{
                char* str = va_arg(aaa, char*);
                for (b = 0; str[b] != '\0'; b++)
				{
                    putchar(str[b]);
                    print_value++;
                }
            }
			else if (*format == '%')
			{
                putchar('%');
                print_value++;
            }
			else if (*format == 'd' || *format == 'i')
			{
                int num = va_arg(aaa, int);
                printf("%d", num);

                int temp = num;
                if (temp == 0)
				{
                    showDigits = 1;
                }
				else
				{
                    while (temp != 0)
					{
                        showDigits++;
                        temp /= 10;
                    }
                }
                print_value += showDigits;
            }
        }
		else
		{
            putchar(*format);
            print_value++;
        }
        format++;
    }

    va_end(aaa);

    return print_value;
}
